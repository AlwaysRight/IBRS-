mozilla/5.0 (windows windows nt 5.0 en-us rv:1.9a8pre) gecko/200708070505 minefield/3.0a8pre
1 new profile, start firefox 2
logon to your gmail account at http://gmail.google.com/ 3
click compose mail 4
in the composition window, type the quick (without the quotation marks, but with the trailing space after quick ) 5
press return 6
press left arrow once 7
press spacebar once
press ctrl-right arrow actual: - firefox crashes expected: - firefox doesn t crash win2k, so no breakpad here
note the position of the caret is weird in step 6
i d expect it to be the quick | but it s actually the quick| as if it doesn t know there s a space at the end of the sentence.
also crashes on vista, and no breakpad report is generated
mozilla/5.0 (windows windows nt 6.0 en-us rv:1.9a8pre) gecko/2007080805 minefield/3.0a8pre firefox/3.0 id:2007080805
mozilla/5.0 (windows windows nt 5.1 en-us rv:1.9a8pre) gecko/2007080805 minefield/3.0a8pre id:2007080805
http://crash-stats.mozilla.com/report/index/899617dc-45c8-11dc-9063-001a4bd46e84 0 nssamplewordbreaker::nextword(unsigned short const*, unsigned int, unsigned int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\intl\lwbrk\src\nssamplewordbreaker.cpp:166 1 clusteriterator::clusteriterator(nstextframe*, int, int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\generic\nstextframethebes.cpp:4796 2 nstextframe::peekoffsetword(int, int, int, int*, int*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\generic\nstextframethebes.cpp:4812 3 nsiframe::peekoffset(nspeekoffsetstruct*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\generic\nsframe.cpp:4836 4 nsframeselection::movecaret(unsigned int, int, nsselectionamount) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\generic\nsselection.cpp:1344 5 nsframeselection::wordmove(int, int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\generic\nsselection.cpp:2758 6 presshell::wordmove(int, int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\base\nspresshell.cpp:2678 7 nsselectionmovecommands::docommand(char const*, nsisupports*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\editor\libeditor\base\nseditorcommands.cpp:679 8 nscontrollercommandtable::docommand(char const*, nsisupports*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\embedding\components\commandhandler\src\nscontrollercommandtable.cpp:191 9 nsbasecommandcontroller::docommand(char const*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\embedding\components\commandhandler\src\nsbasecommandcontroller.cpp:169 10 nsxblprototypehandler::executehandler(nspidomeventtarget*, nsidomevent*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\xbl\src\nsxblprototypehandler.cpp:359 11 nsxblwindowkeyhandler::walkhandlersinternal(nsidomevent*, nsiatom*, nsxblprototypehandler*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\xbl\src\nsxblwindowkeyhandler.cpp:548 12 nsxblwindowkeyhandler::walkhandlers(nsidomevent*, nsiatom*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\xbl\src\nsxblwindowkeyhandler.cpp:346 13 nsxblwindowkeyhandler::keypress(nsidomevent*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\xbl\src\nsxblwindowkeyhandler.cpp:403 14 nseventlistenermanager::handleevent(nsprescontext*, nsevent*, nsidomevent**, nsisupports*, unsigned int, nseventstatus*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\events\src\nseventlistenermanager.cpp:1207 15 nseventtargetchainitem::handleevent(nseventchainpostvisitor&, unsigned int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\events\src\nseventdispatcher.cpp:201 16 nseventtargetchainitem::handleeventtargetchain(nseventchainpostvisitor&, unsigned int, nsdispatchingcallback*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\events\src\nseventdispatcher.cpp:281 17 nseventtargetchainitem::handleeventtargetchain(nseventchainpostvisitor&, unsigned int, nsdispatchingcallback*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\events\src\nseventdispatcher.cpp:310 18 nseventdispatcher::dispatch(nsisupports*, nsprescontext*, nsevent*, nsidomevent*, nseventstatus*, nsdispatchingcallback*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\content\events\src\nseventdispatcher.cpp:473 19 presshell::handleeventinternal(nsevent*, nsiview*, nseventstatus*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\base\nspresshell.cpp:5731 20 presshell::handleevent(nsiview*, nsguievent*, nseventstatus*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\layout\base\nspresshell.cpp:5532 21 nsviewmanager::handleevent(nsview*, nspoint, nsguievent*, int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\view\src\nsviewmanager.cpp:1292 22 nsviewmanager::dispatchevent(nsguievent*, nseventstatus*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\view\src\nsviewmanager.cpp:1248 23 handleevent e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\view\src\nsview.cpp:168 24 nswindow::dispatchevent(nsguievent*, nseventstatus&) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\windows\nswindow.cpp:1090 25 nswindow::dispatchwindowevent(nsguievent*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\windows\nswindow.cpp:1110 26 nswindow::dispatchkeyevent(unsigned int, unsigned short, unsigned int, long, unsigned int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\windows\nswindow.cpp:3418 27 nswindow::onkeydown(unsigned int, unsigned int, long) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\windows\nswindow.cpp:3637 28 nswindow::processmessage(unsigned int, unsigned int, long, long*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\windows\nswindow.cpp:4568 29 nswindow::windowproc(hwnd__*, unsigned int, unsigned int, long) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\windows\nswindow.cpp:1303 30 internalcallwinproc 31 usercallwinproccheckwow 32 dispatchmessageworker 33 dispatchmessagew 34 nsappshell::processnextnativeevent(int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\windows\nsappshell.cpp:148 35 nsbaseappshell::doprocessnextnativeevent(int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\xpwidgets\nsbaseappshell.cpp:137 36 nsbaseappshell::onprocessnextevent(nsithreadinternal*, int, unsigned int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\xpwidgets\nsbaseappshell.cpp:247 37 nsthread::processnextevent(int, int*) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\xpcom\threads\nsthread.cpp:477 38 ns_processnextevent_p(nsithread*, int) e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\obj-fx-trunk\xpcom\build\nsthreadutils.cpp:227 39 nsbaseappshell::run() e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\widget\src\xpwidgets\nsbaseappshell.cpp:154 40 nsappstartup::run() e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\toolkit\components\startup\src\nsappstartup.cpp:170 41 xre_main e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\toolkit\xre\nsapprunner.cpp:3057 42 main e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\browser\app\nsbrowserapp.cpp:153 43 winmain e:\builds\tinderbox\fx-trunk\winnt_5.2_depend\mozilla\browser\app\nsbrowserapp.cpp:166 44 __tmaincrtstartup f:\rtm\vctools\crt_bld\self_x86\crt\src\crtexe.c:578 45 baseprocessstart
looks like this might be a dupe of bug 389437
stacktrace is virtually the same
duping based on that
*** this bug has been marked as a duplicate of bug 389437 ***
